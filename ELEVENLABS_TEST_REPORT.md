# 📊 گزارش تست ElevenLabs API

## ✅ نتایج تست‌ای که انجام دادیم:

### 1️⃣ اطلاعات حساب کاربری
- ✅ **نوع اکانت**: Free (Free Tier)
- ✅ **کل کردیت**: 10,000 کاراکتر/ماه
- ✅ **کردیت استفاده شده**: 0
- ✅ **کردیت باقی‌مانده**: 10,000 کاراکتر
- ✅ **تعداد صداهای قابل استفاده**: 20 صدا

---

### 2️⃣ تست Text-to-Speech (TTS) - تبدیل متن به صوت

#### 🇬🇧 متن انگلیسی:
- **متن ورودی**: "Hello! This is a test of ElevenLabs text to speech."
- **تعداد کاراکتر**: 51
- **فایل خروجی**: test_audio_en.mp3
- **حجم فایل**: 53.51 KB
- **نتیجه**: ✅ موفق

#### 🇮🇷 متن فارسی:
- **متن ورودی**: "سلام! این یک تست تبدیل متن فارسی به صوت است."
- **تعداد کاراکتر**: 44
- **فایل خروجی**: test_audio_fa.mp3
- **حجم فایل**: 59.23 KB
- **نتیجه**: ✅ موفق

---

### 3️⃣ تست Speech-to-Text (STT) - تبدیل صوت به متن

#### 🇬🇧 صوت انگلیسی:
- **متن تشخیص داده شده**: "Hello, this is a test of ElevenLabs' text-to-speech."
- **تعداد کلمات**: 8
- **دقت**: ✅ عالی (دقیقاً همان متن اولیه)

#### 🇮🇷 صوت فارسی:
- **متن تشخیص داده شده**: "سلام. این یک تست تبدیل متن فارسی به صوت است."
- **تعداد کلمات**: 10
- **دقت**: ✅ عالی (دقیقاً همان متن اولیه)

---

## 💰 محاسبه مصرف کردیت

### 📊 فرمول محاسبه:

#### Text-to-Speech (TTS):
- **مدل `eleven_multilingual_v2`**: 
  - 📌 1 کاراکتر = 1 کردیت
  - مثال: متن 50 کاراکتری = 50 کردیت

#### Speech-to-Text (STT):
- **مدل `scribe_v1`**:
  - 📌 بر اساس زمان صوت محاسبه می‌شه
  - در Free tier: اطلاعات دقیق موجود نیست
  - **تخمین**: حدوداً 1000 کاراکتر برای هر دقیقه صوت

---

## 🔢 محاسبه تعداد درخواست در ماه

### 📤 فرض می‌کنیم کاربر از ربات:

#### سناریو 1: **فقط Text-to-Speech**
- کردیت ماهانه: 10,000 کاراکتر
- میانگین طول پیام: 100 کاراکتر
- **تعداد درخواست**: 10,000 ÷ 100 = **100 درخواست/ماه** ✅

#### سناریو 2: **فقط Speech-to-Text**
- کردیت ماهانه: 10,000 کاراکتر
- میانگین زمان صوت: 30 ثانیه (حدود 500 کاراکتر)
- **تعداد درخواست**: 10,000 ÷ 500 = **20 درخواست/ماه** ⚠️

#### سناریو 3: **ترکیبی (50% TTS + 50% STT)**
- TTS: 50 درخواست (متن 100 کاراکتری)
- STT: 10 درخواست (صوت 30 ثانیه‌ای)
- **جمع کل**: **حدود 60 درخواست/ماه** ✅

---

## 👀 نکات مهم:

### ✅ مزایا:
1. **بدون نیاز به کارت بانکی**: کاملاً رایگان
2. **پشتیبانی کامل فارسی**: هم TTS و هم STT
3. **کیفیت بالا**: دقت عالی در تشخیص و تولید صدا
4. **20 صدای متنوع**: برای TTS
5. **99 زبان**: پشتیبانی از 99 زبان دنیا

### ⚠️ محدودیت‌ها:
1. **10,000 کردیت/ماه**: محدودیت Free tier
2. **Speech-to-Text گران‌تر است**: بیشتر کردیت مصرف می‌کنه
3. **Concurrency Limit**: حداکثر 2 درخواست همزمان در Free tier
4. **لزوم Attribution**: باید به ElevenLabs اشاره کنید
5. **بدون لایسنس تجاری**: برای استفاده تجاری باید به پلن ممتاز ارتقا دهید

---

## 📈 پیشنهاد برای بات:

### 💡 استراتژی بهینه‌سازی:
1. **محدود کردن طول متن**: حداکثر 200 کاراکتر برای TTS
2. **محدود کردن زمان صوت**: حداکثر 60 ثانیه برای STT
3. **کش کردن کردیت**: نمایش کردیت باقی‌مانده به کاربر
4. **پیام هشدار**: وقتی کردیت رو به اتمام است

### 🛡️ مدیریت خطا:
- **Rate Limiting**: مدیریت تعداد درخواست برای جلوگیری از سوءاستفاده
- **Fallback**: در صورت تمام شدن کردیت، پیام مناسب به کاربر
- **Retry Logic**: تلاش مجدد در صورت خطای شبکه

---

## 📝 نتیجه‌گیری:

✅ **ElevenLabs گزینه عالی برای بات شماست!**

- برای یک بات متوسط با 50-100 کاربر فعال در ماه، 10,000 کردیت کافی است.
- کیفیت صدا عالی و دقت تشخیص بسیار خوب است.
- برای محدود کردن مصرف، بهتر است طول متن‌ها و صوت‌ها را محدود کنیم.

---

## 🔗 لینک‌های مفید:

- 📚 [ElevenLabs Documentation](https://elevenlabs.io/docs/overview)
- 🔑 [API Reference](https://elevenlabs.io/docs/api-reference)
- 🎙️ [Voice Library](https://elevenlabs.io/voice-library)
- 📊 [Pricing Details](https://elevenlabs.io/pricing)

---

**🚀 آماده برای اضافه کردن به ربات!**
