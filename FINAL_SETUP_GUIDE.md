# ๐ฏ ุฑุงูููุง ููุง - ุงุตูุงุญ Webhook ู ูุนุงูโุณุงุฒ

## โ ูุถุนุช ูุนู (ููู ฺุฒ ุขูุงุฏู)
```
โ Telegram Webhook: ุฏุฑุณุช register ุดุฏู
โ N8N Server: ุฏุฑ ุญุงู ฺฉุงุฑ 
โ Workflow: ูุงุฒ ุจู ุงุตูุงุญ webhook URL + ูุนุงูโุณุงุฒ
```

## ๐ฏ ูุฑุงุญู ุฏูู:

### ูุฑุญูู ฑ: ูุฑูุฏ ุจู N8N
```
๐ URL: https://iqv2.onrender.com
๐ ูุงฺฏู ฺฉู ุจุง credentials ุฎูุฏุช
๐ workflow ูพุฏุง ฺฉู: ff17baeb-3182-41c4-b60a-e6159b02023b
```

### ูุฑุญูู ฒ: ุงุตูุงุญ Telegram Node
```
1๏ธโฃ ุฑู ููุฏ "Telegram Bot" ฺฉูฺฉ ฺฉู
2๏ธโฃ ููุฏ ุฑู ุจุงุฒ ฺฉู (node settings)
3๏ธโฃ ุฏูุจุงู ฺฏุฒูู "Set Webhook" ุง "Webhook URL" ุจฺฏุฑุฏ
4๏ธโฃ URL ุฑู ุงุตูุงุญ ฺฉู:
   
   โ ุบูุท: https://localhost:8443/webhook/ff17baeb-3182-41c4-b60a-e6159b02023b/webhook
   โ ุฏุฑุณุช: https://iqv2.onrender.com/webhook/ff17baeb-3182-41c4-b60a-e6159b02023b/webhook

5๏ธโฃ Save ฺฉู
```

### ูุฑุญูู ณ: ูุนุงูโุณุงุฒ Workflow
```
๐๏ธ ฺฏูุดู ุจุงูุง ุฑุงุณุช ุฏูุจุงู toggle button ุจฺฏุฑุฏ
๐ ุฏฺฉูู ุฑู ุจุฒู ุชุง "Active" ุจุดู
```

## ๐งช ุชุณุช ููุฑ ุจุนุฏ ุงุฒ ุชุบุฑุงุช:

```bash
curl -X POST "https://iqv2.onrender.com/webhook/ff17baeb-3182-41c4-b60a-e6159b02023b/webhook" \
  -H "Content-Type: application/json" \
  -d '{
    "message": {
      "message_id": 123,
      "from": {"id": 327459477, "is_bot": false},
      "chat": {"id": 327459477, "type": "private"},
      "text": "generate beautiful landscape"
    }
  }'
```

**ูุชุฌู ูููู:** ุจุงุฏ HTTP 200 ุจุฑฺฏุฑุฏููู (ูู 404)

## ๐ฑ ุชุณุช ููุง ุจุง ุฑุจุงุช ุชูฺฏุฑุงู:

```
๐ค ูพุงู ุจู ุฑุจุงุช ุจูุฑุณุช
๐ฑ @YourBotName
๐ฌ ูุชู: "generate mountain landscape"  
๐ผ๏ธ ุจุงุฏ ุนฺฉุณ ููุด ูุตููุน ุฏุฑุงูุช ฺฉู
```

## โก ุฑุงูโุญู ุณุฑุน (ุงฺฏุฑ ูุดฺฉู ุฏุงุดุช):

**ฺฏุฒูู A - Recreate Node:**
```
1๏ธโฃ ููุฏ ุชูฺฏุฑุงู ุฑู ูพุงฺฉ ฺฉู
2๏ธโฃ ุฏูุจุงุฑู "Telegram Bot" ุงุถุงูู ฺฉู
3๏ธโฃ webhook ุฎูุฏุด ุฏุฑุณุช ูุดู
```

**ฺฏุฒูู B - Manual Set:**
```
1๏ธโฃ ุชู ุชูุธูุงุช ููุฏุ webhook URL ุฑู ุฏุณุช ุงุตูุงุญ ฺฉู
2๏ธโฃ ุงุฒ localhost ุจู iqv2.onrender.com ุชุบุฑ ุจุฏู
```

## ๐ ุจุนุฏ ุงุฒ ุชุณุช ูููู:
```
โ ููู ฺุฒ ฺฉุงุฑ ูโฺฉูู
โ ุฑุจุงุช ูพุงู ุฏุฑุงูุช ูโฺฉูู
โ ุนฺฉุณ ููุด ูุตููุน ุชููุฏ ูโุดู
โ ุจู ุชูฺฏุฑุงู ุจุฑฺฏุดุช ุฏุงุฏู ูโุดู
```

---

**๐ก ูฺฉุชู:** ุงฺฏู ูุฑ ูุดฺฉู ุฏุงุดุชุ ุจฺฏู ุชุง ฺฉูฺฉ ฺฉูู! ๐