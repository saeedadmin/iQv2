{"name": "Crypto Signal Monitor", "nodes": [{"parameters": {"resource": "trigger", "operation": "listen", "events": {"selectedOption": "specificEvents", "events": ["updateNewMessage", "updateNewChatMessage"]}, "chatFilter": {"include": ["@shervin_trading", "@uniopn"]}, "client": {"clientType": "userbot", "displayName": "Crypto Monitor Bot", "phone": "+989025988819", "username": "crypto_iq", "sessionName": "crypto_bot_session"}}, "id": "teleport-trigger-001", "name": "TelePilot Trigger", "type": "@telepilotco/n8n-nodes-telepilot.teleport", "typeVersion": 1, "position": [240, 300]}, {"parameters": {"mode": "runOnceForEachItem", "jsCode": "// ØªØ´Ø®ÛŒØµ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ú©Ø±ÛŒÙ¾ØªÙˆ\nconst item = $input.first();\nconst message = item.json.message?.content?.text?.text || '';\nconst chatId = item.json.message?.chat_id;\n\n// Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ Ø³ÛŒÚ¯Ù†Ø§Ù„\nconst keywords = [\n  'entry', 'Entry', 'ENTRY',\n  'stop', 'Stop', 'STOP',\n  'tp', 'TP', 'Tp', \n  'Ø³ÛŒÚ¯Ù†Ø§Ù„ Ø§Ø®ØªØµØ§ØµÛŒ',\n  'Ù„ÙˆØ±ÛŒØ¬',\n  'buy', 'Buy', 'BUY',\n  'sell', 'Sell', 'SELL',\n  'target', 'Target', 'TARGET',\n  'long', 'Long', 'LONG',\n  'short', 'Short', 'SHORT'\n];\n\n// Ø§Ù…ÙˆØ¬ÛŒâ€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…\nconst importantEmojis = ['ğŸ’', 'ğŸš€', 'ğŸ”¥', 'âš¡', 'ğŸ“ˆ', 'ğŸ“Š', 'âœ…', 'ğŸ’°'];\n\n// ØªØ´Ø®ÛŒØµ Ú©Ù„Ù…Ø§Øª Ú©Ù„ÛŒØ¯ÛŒ\nconst foundKeywords = keywords.filter(keyword => message.toLowerCase().includes(keyword.toLowerCase()));\nconst foundEmojis = importantEmojis.filter(emoji => message.includes(emoji));\n\n// Ù…Ø­Ø§Ø³Ø¨Ù‡ confidence score\nlet confidence = 0;\nif (foundKeywords.length > 0) {\n  confidence += Math.min(foundKeywords.length * 25, 75); // Ø­Ø¯Ø§Ú©Ø«Ø± 75 Ø§Ù…ØªÛŒØ§Ø²\n}\nif (foundEmojis.length > 0) {\n  confidence += foundEmojis.length * 10; // 10 Ø§Ù…ØªÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø§Ù…ÙˆØ¬ÛŒ\n}\n\n// Ø­Ø¯Ø§Ù‚Ù„ threshold Ø¨Ø±Ø§ÛŒ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù…Ø¹ØªØ¨Ø±\nconst isValidSignal = confidence >= 50; // Ø­Ø¯Ø§Ù‚Ù„ 50 Ø§Ù…ØªÛŒØ§Ø²\n\n// Ø®Ø±ÙˆØ¬ÛŒ\nreturn {\n  isValidSignal,\n  confidence,\n  foundKeywords,\n  foundEmojis,\n  originalMessage: message,\n  chatId,\n  timestamp: new Date().toISOString(),\n  message: message\n};"}, "id": "signal-detector-001", "name": "Signal Detector", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [460, 300]}, {"parameters": {"mode": "runOnceForEachItem", "jsCode": "// Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù¾ÛŒØ§Ù… Ø§Ø² Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ Ùˆ Ù…Ø­ØªÙˆØ§ÛŒ Ù†Ø§Ù…Ø·Ù„ÙˆØ¨\nconst item = $input.first();\nconst originalMessage = item.json.message;\n\nif (!item.json.isValidSignal) {\n  // Ø§Ú¯Ù‡ Ø³ÛŒÚ¯Ù†Ø§Ù„ Ù…Ø¹ØªØ¨Ø± Ù†Ø¨ÙˆØ¯ØŒ null Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†\n  return null;\n}\n\n// Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§\nlet cleanMessage = originalMessage\n  .replace(/https?:\\/\\/[^\\s]+/g, '') // Ø­Ø°Ù Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ http/https\n  .replace(/t\\.me\\/[^\\s]+/g, '') // Ø­Ø°Ù Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ telegram\n  .replace(/@[A-Za-z0-9_]+/g, '') // Ø­Ø°Ù @mention\n  .replace(/#\\w+/g, '') // Ø­Ø°Ù hashtag\n  .replace(/\\s+/g, ' ') // ÛŒÚ©Ø³Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§\n  .trim();\n\n// Ø§ÙØ²ÙˆØ¯Ù† header Ø¨Ø±Ø§ÛŒ Ø³ÛŒÚ¯Ù†Ø§Ù„\nconst signalHeader = `ğŸ”” **Ø³ÛŒÚ¯Ù†Ø§Ù„ Ú©Ø±ÛŒÙ¾ØªÙˆ ØªØ´Ø®ÛŒØµ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯**\\n`;\nconst confidenceText = `ğŸ“Š Confidence: ${item.json.confidence}%\\n`;\nconst keywordsText = `ğŸ·ï¸ Keywords: ${item.json.foundKeywords.join(', ')}\\n\\n`;\n\n// Ù¾ÛŒØ§Ù… Ù†Ù‡Ø§ÛŒÛŒ\nconst finalMessage = signalHeader + confidenceText + keywordsText + cleanMessage;\n\nreturn {\n  isValidSignal: true,\n  confidence: item.json.confidence,\n  foundKeywords: item.json.foundKeywords,\n  cleanMessage: finalMessage,\n  originalMessage: originalMessage,\n  timestamp: new Date().toISOString(),\n  chatId: item.json.chatId\n};"}, "id": "message-cleaner-001", "name": "Message Cleaner", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [680, 300]}, {"parameters": {"resource": "message", "operation": "sendMessage", "chatId": "YOUR_BOT_CHAT_ID", "text": "={{ $json.cleanMessage }}", "parseMode": "Markdown", "additionalFields": {"replyMarkup": {"inlineKeyboard": {"rows": [{"columns": 2, "rows": [{"text": "âœ… ØªØ§ÛŒÛŒØ¯", "callbackData": "signal_approve"}, {"text": "âŒ Ø±Ø¯", "callbackData": "signal_reject"}]}]}}}}, "id": "send-to-bot-001", "name": "Send to Bot", "type": "n8n-nodes-base.telegram", "typeVersion": 1.1, "position": [900, 300], "credentials": {"telegramApi": {"id": "telegram_credentials_id", "name": "Telegram Bot API"}}}], "connections": {"TelePilot Trigger": {"main": [[{"node": "Signal Detector", "type": "main", "index": 0}]]}, "Signal Detector": {"main": [[{"node": "Message Cleaner", "type": "main", "index": 0}]]}, "Message Cleaner": {"main": [[{"node": "Send to Bot", "type": "main", "index": 0}]]}}, "settings": {"executionOrder": "v1"}, "staticData": null, "tags": [{"createdAt": "2025-10-25T00:58:53.000Z", "updatedAt": "2025-10-25T00:58:53.000Z", "id": "crypto-signals", "name": "Crypto Signals"}], "triggerCount": 1, "updatedAt": "2025-10-25T00:58:53.000Z", "versionId": "1"}